<div class="pt-4 d-flex justify-content-between">
  <p>COMPETENCY RELATED INFORMATION</p>
  <p class="flex-shrink-0">8 of 12</p>
</div>

<h1 class="pb-4">Confirm Core Competencies</h1>
<p class="w-75 mb-5">We derived the following core competencies from the job description you provided. Please review and adjust as needed.</p>

<form [formGroup]="form">
  <div class="form-row mb-4"
       [formArrayName]="SUBSTATEMENT_FORM_ARRAY_NAME"
       *ngFor="let substatementControl of substatementControls let i = index;"
  >
    <div class="form-group col-md-9" [formGroupName]="i">

      <app-form-wrapper classList="mb-4" [matchCount]="1">
        <label class="font-weight-bold" for="competency-2">
          {{substatementControl.value.substatement}}
        </label>

        <select id="competency-2" class="form-control form-control-lg"
                (change)="substatementControl.value.selectedCompetencyOption = $event.target.value"
        >
          <option *ngFor="let competencyControl of substatementControl.get(COMPETENCY_FORM_ARRAY_NAME)['controls']; let first = first"
                  [selected]="first"
                  [value]="competencyControl.value.competency.recommendationId"
          >
            {{competencyControl.value.competency.name}}
          </option>
          <option [value]="competencySelectOptions.NONE">None</option>
          <option [value]="competencySelectOptions.OTHER">Other</option>
        </select>

        <div class="competency-other"
             *ngIf="substatementControl.value.selectedCompetencyOption === competencySelectOptions.OTHER"
        >
          <label class="font-weight-bold mt-3" for="optional-competency-2">Competency</label>
          <input type="text"
                 [value]="substatementControl.value.customCompetency"
                 (change)="substatementControl.value.customCompetency = $event.target.value"
                 class="form-control form-control-lg" id="optional-competency-2"
                 placeholder="Competency"
          >
        </div>
      </app-form-wrapper>

    </div>

  </div>

  <div class="d-flex justify-content-between pt-5">
    <button type="button"
            class="btn btn-lg text-primary d-flex align-items-center p-0"
    >
      <i class="fas fa-angle-left text-primary mr-3" style="font-size: 24px;"></i>Back
    </button>
    <button type="submit"
            class="btn btn-lg btn-primary"
            (click)="this.submit()"
    >Next</button>
  </div>

</form>
